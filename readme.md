# Getting Started

### Run
> % ./gradlew build
>
> %  ./gradlew bootrun
>
# 핵심 문제해결 전략

설명
1. 뿌리기 기능 구현

해결 : 
- 토큰 키 발급
Header에 담겨온 X-USER-ID와 System.currentMiliseconds()를 조합하고, sha2로 암호화 하여 처리
이 때, 암호화 한 값이 128자리가 되고 이 128자리 중에서 랜덤으로 3개의 값만 가져와서 조합하여 토큰 발급
* 중복 발생이 가능하여, Retry 정책을 10번까지 넣음.
----------------------------------------------------------------------------------------------------------------------------------

2. 받기 기능 구현

해결 : 
- 동시 받기를 하는 경우에 대해 비선점 잠금 방식(@Version)을 사용하여 해결
    - OptimisticLockException 발생 케이스에는 동시 접근으로 판단
----------------------------------------------------------------------------------------------------------------------------------
# 실패 응답 제공 전

실패 응답 처리

{
    "errorCode": "error_0001",
    "errorMessage": "뿌리기 당 한 사용자는 한번만 받을 수 있습니다."
}
----------------------------------------------------------------------------------------------------------------------------------